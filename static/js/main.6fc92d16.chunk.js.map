{"version":3,"sources":["Components/Calendar.js","Components/Filter.js","Components/MyForm.js","Components/Thanks.js","App.js","index.js"],"names":["Calendar","state","date","moment","range","onNext","setState","add","onPrev","subtract","OnDateClick","e","length","element","document","getElementById","target","id","dateObject","d","m","format","y","classList","push","sort","a","b","day1","parseInt","day2","month1","month2","year1","year2","Date","props","addRange","handleApply","applyDates","hideModal","handleCancel","element1","element2","remove","weekdayshort","weekdaysShort","days","this","daysInMonth","year","month","dates","firstDayOfMonth","startOf","weekdayshortname","map","day","key","className","blanks","j","myClass","show","i","onClick","React","Component","Filter","showModal","MyForm","company","onSubmit","preventDefault","addCompany","handleSubmitBtn","info","submitted","localStorage","setItem","window","open","onChange","name","value","date1","date2","from","to","htmlFor","type","style","width","height","placeholder","Thanks","location","href","getItem","App","calendar","basename","pathname","exact","path","ReactDOM","render"],"mappings":"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","file":"static/js/main.6fc92d16.chunk.js","sourcesContent":["import React from \"react\";\r\nimport moment from \"moment\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Calendar extends React.Component {\r\n  state = {\r\n    date: moment(),\r\n    range: []\r\n  };\r\n\r\n  onNext = () => {\r\n    this.setState({\r\n      date: moment(this.state.date, \"YYYY-MM--DD\").add(1, \"month\")\r\n    });\r\n  };\r\n\r\n  onPrev = () => {\r\n    this.setState({\r\n      date: moment(this.state.date, \"YYYY-MM--DD\").subtract(1, \"month\")\r\n    });\r\n  };\r\n\r\n  OnDateClick = e => {\r\n    if (this.state.range.length < 2) {\r\n      const element = document.getElementById(e.target.id);\r\n      const dateObject = {\r\n        d: e.target.id,\r\n        m: moment(this.state.date).format(\"MM\"),\r\n        y: moment(this.state.date).format(\"YYYY\")\r\n      };\r\n      //console.log(`${dateObject.d}/${dateObject.m}/${dateObject.y}`);\r\n      //console.log(element);\r\n      element.classList.add(\"highlight\");\r\n      const range = this.state.range;\r\n      range.push(dateObject);\r\n      range.sort(function(a, b) {\r\n        const day1 = parseInt(a.d);\r\n        const day2 = parseInt(b.d);\r\n\r\n        const month1 = parseInt(a.m);\r\n        const month2 = parseInt(b.m);\r\n\r\n        const year1 = parseInt(a.y);\r\n        const year2 = parseInt(b.y);\r\n\r\n        return (\r\n          new Date(year1, month1, day1, 10, 33, 30, 0) -\r\n          new Date(year2, month2, day2, 10, 33, 30, 0)\r\n        );\r\n      }); //sorting the dates\r\n      // console.log(range);\r\n      this.setState({ ...this.state, range });\r\n    }\r\n\r\n    //console.log(this.state.range);\r\n    if (this.state.range.length == 2) this.props.addRange(this.state);\r\n  };\r\n\r\n  handleApply = e => {\r\n    if (this.state.range.length == 2) {\r\n      this.props.applyDates();\r\n\r\n      this.props.hideModal();\r\n    }\r\n  };\r\n\r\n  handleCancel = () => {\r\n    if (this.state.range.length == 2) {\r\n      const element1 = document.getElementById(this.state.range[0].d);\r\n      const element2 = document.getElementById(this.state.range[1].d);\r\n      element1.classList.remove(\"highlight\");\r\n      element2.classList.remove(\"highlight\");\r\n      this.setState({ ...this.state, range: [] });\r\n    }\r\n\r\n    this.props.hideModal();\r\n  };\r\n\r\n  weekdayshort = moment.weekdaysShort();\r\n\r\n  render() {\r\n    const days = moment(this.state.date, \"YYYY-MM\").daysInMonth();\r\n    const year = moment(this.state.date).format(\"YYYY\");\r\n    const month = moment(this.state.date).format(\"MMMM\");\r\n    const dates = [];\r\n    const firstDayOfMonth = moment(this.state.date)\r\n      .startOf(\"month\")\r\n      .format(\"d\");\r\n\r\n    let weekdayshortname = this.weekdayshort.map(day => {\r\n      return (\r\n        <div key={day} className=\"day\">\r\n          {day}\r\n        </div>\r\n      );\r\n    });\r\n\r\n    let blanks = [];\r\n    for (let j = 0; j < firstDayOfMonth; j++) {\r\n      blanks.push(\r\n        <div key={j} className=\"blankSpace\">\r\n          {\" \"}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const myClass = this.props.show\r\n      ? \"modal display-block\"\r\n      : \"modal display-none\";\r\n\r\n    for (let i = 1; i <= days; i++) {\r\n      dates.push(\r\n        <div id={i} key={i} className=\"date\" onClick={this.OnDateClick}>\r\n          {i}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className={myClass}>\r\n        <div className=\"myCalendar\">\r\n          <div className=\"calendarYear\">Calendar {year}</div>\r\n          <div className=\"monthRow\">\r\n            <div className=\"prevControl\" onClick={this.onPrev}>\r\n              Previous\r\n            </div>\r\n            <div className=\"month\">{month}</div>\r\n            <div className=\"nextControl\" onClick={this.onNext}>\r\n              Next\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"daysRow\">{weekdayshortname}</div>\r\n\r\n          <div className=\"contentCalendar\">\r\n            {blanks}\r\n            {dates}\r\n          </div>\r\n          <div className=\"calendarBtns\">\r\n            <div className=\"button-cancel\">\r\n              <button onClick={this.handleCancel}>Cancel</button>\r\n            </div>\r\n            <div className=\"button-apply\">\r\n              <button onClick={this.handleApply}>Apply</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCalendar.propTypes = {\r\n  addRange: PropTypes.func.isRequired,\r\n  applyDates: PropTypes.func.isRequired,\r\n  hideModal: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Calendar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Calendar from \"./Calendar\";\r\n\r\nclass Filter extends React.Component {\r\n  state = {\r\n    show: false\r\n  };\r\n\r\n  showModal = () => this.setState({ show: true });\r\n  hideModal = () => this.setState({ show: false });\r\n  render() {\r\n    return (\r\n      <div>\r\n        <button className=\"filterBtn\" onClick={this.showModal}>\r\n          Select Filter\r\n        </button>\r\n        <Calendar\r\n          applyDates={this.props.applyDates}\r\n          addRange={this.props.addRange}\r\n          show={this.state.show}\r\n          hideModal={this.hideModal}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFilter.propTypes = {\r\n  addRange: PropTypes.func.isRequired,\r\n  applyDates: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\nimport Filter from \"./Filter\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport moment from \"moment\";\r\n\r\nclass MyForm extends React.Component {\r\n  state = {\r\n    company: \"\"\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.addCompany(this.state.company);\r\n    //this.setState({ company: \"\" });\r\n  };\r\n\r\n  handleSubmitBtn = () => {\r\n    if (this.props.info.submitted) {\r\n      localStorage.setItem(\"company\", this.props.info.company);\r\n      window.open(\"/thanks\", \"_blank\");\r\n    }\r\n  };\r\n\r\n  onChange = e => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  applyDates = () => {\r\n    const date1 = this.props.info.range[0];\r\n    const date2 = this.props.info.range[1];\r\n    //const month = moment(this.props.info.date).format(\"MM\");\r\n    //const year = moment(this.props.info.date).format(\"YYYY\");\r\n    const from = `${date1.d}/${date1.m}/${date1.y}`;\r\n    const to = `${date2.d}/${date2.m}/${date2.y}`;\r\n    document.getElementById(\"from\").value = from;\r\n    document.getElementById(\"to\").value = to;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"formStyle\" onSubmit={this.onSubmit}>\r\n        <h1 className=\"formHeading row\">Download your CSV</h1>\r\n        <div className=\"field row\">\r\n          <div className=\"col-lg-12 form-group\">\r\n            <label htmlFor=\"Company\">Company</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"company\"\r\n              name=\"company\"\r\n              className=\"form-control\"\r\n              onChange={this.onChange}\r\n              style={{ width: \"75%\", height: \"30px\" }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"field row\">\r\n          <div className=\"col-lg-5 col-sm-12 col-xs-12 form-group\">\r\n            <label htmlFor=\"from\">From</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"from\"\r\n              name=\"from\"\r\n              className=\"form-control\"\r\n              placeholder=\"DD/MM/YYYY\"\r\n              style={{ width: \"75%\", height: \"30px\" }}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-5 col-sm-12 toField form-group\">\r\n            <label htmlFor=\"to\"> To</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"to\"\r\n              name=\"to\"\r\n              className=\"form-control\"\r\n              placeholder=\"DD/MM/YYYY\"\r\n              style={{ width: \"75%\", height: \"30px\" }}\r\n            />\r\n          </div>\r\n          <Filter\r\n            className=\"form-control\"\r\n            addRange={this.props.addRange}\r\n            applyDates={this.applyDates}\r\n          />\r\n        </div>\r\n        <div className=\"row\">\r\n          <button className=\"submitBtn\" onClick={this.handleSubmitBtn}>\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nMyForm.propTypes = {\r\n  addCompany: PropTypes.func.isRequired,\r\n  addRange: PropTypes.func.isRequired,\r\n  info: PropTypes.object.isRequired\r\n};\r\n\r\nexport default MyForm;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Thanks extends React.Component {\r\n  componentDidMount() {\r\n    window.location.href =\r\n      \"http://py.lyzer.io/getCSV?companyKey=BERRYLUSH&fromDate=1451606400&toDate=1582121290\";\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1 className=\"thanksHeading\">\r\n          Thanks {localStorage.getItem(\"company\")}\r\n        </h1>\r\n        <p className=\"thanksContent\">\r\n          {\" \"}\r\n          Your csv will be downloaded in a minute.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nThanks.propTypes = {\r\n  company: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Thanks;\r\n","import React from \"react\";\nimport MyForm from \"./Components/MyForm\";\nimport Thanks from \"./Components/Thanks\";\nimport Calendar from \"./Components/Calendar\";\nimport { Switch, BrowserRouter as Router, Route } from \"react-router-dom\";\n\nimport \"./App.css\";\nimport moment from \"moment\";\n\nclass App extends React.Component {\n  state = {\n    company: \"\",\n    date: moment(),\n    range: [],\n    submitted: false\n  };\n\n  addCompany = name => {\n    this.setState({ company: name });\n  };\n\n  addRange = calendar => {\n    const date = calendar.date;\n    const range = calendar.range;\n    this.setState({ ...this.state, date, range, submitted: true });\n  };\n\n  render() {\n    return (\n      <Router basename={window.location.pathname || \"\"}>\n        <div className=\"App\">\n          <div className=\"container\">\n            <Switch>\n              <Route exact path=\"/\">\n                <MyForm\n                  addCompany={this.addCompany}\n                  addRange={this.addRange}\n                  info={this.state}\n                />{\" \"}\n                {/* {console.log(this.state)} */}\n              </Route>\n              <Route path=\"/thanks\">\n                <Thanks\n                  company={this.state.company}\n                  submitted={this.state.submitted}\n                />\n              </Route>\n            </Switch>\n          </div>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}